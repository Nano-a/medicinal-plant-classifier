<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classificateur de Plantes Médicinales</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/leaf-icon.jpg') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body { font-family: 'Inter', Arial, sans-serif; }
      h1, h2, .font-playfair { font-family: 'Playfair Display', serif; }
      .bg-gradient-nature { background: linear-gradient(135deg, hsl(140, 45%, 35%) 0%, hsl(130, 40%, 45%) 50%, hsl(120, 35%, 55%) 100%); }
      .bg-gradient-primary { background: linear-gradient(135deg, hsl(140, 40%, 28%), hsl(140, 45%, 35%)); }
      .shadow-soft { box-shadow: 0 4px 20px -4px hsl(140 40% 28% / 0.1); }
      .shadow-medium { box-shadow: 0 8px 30px -8px hsl(140 40% 28% / 0.15); }
      .shadow-strong { box-shadow: 0 20px 40px -12px hsl(140 40% 28% / 0.25); }
      .shadow-glow { box-shadow: 0 0 30px hsl(140 45% 35% / 0.3); }
      .backdrop-blur-sm { backdrop-filter: blur(8px); }
      .backdrop-blur-xl { backdrop-filter: blur(24px); }
    </style>
</head>
<body class="min-h-screen bg-gradient-nature font-inter">
  <!-- Hero Section -->
  <section class="relative h-screen flex items-center justify-center overflow-hidden">
    <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('{{ url_for('static', filename='images/hero-plants.jpg') }}');">
      <div class="absolute inset-0 bg-gradient-to-r from-green-900/80 via-green-700/40 to-transparent"></div>
    </div>
    <div class="relative z-10 text-center text-white max-w-4xl px-6">
      <h1 class="text-5xl md:text-7xl font-bold mb-6 leading-tight font-playfair">
        Classificateur de
        <span class="block bg-gradient-to-r from-white to-green-300 bg-clip-text text-transparent">Plantes Médicinales</span>
      </h1>
      <p class="text-xl md:text-2xl mb-8 text-white/90 leading-relaxed">
        Notre application utilise l'Intelligence Artificielle pour prédire si une plante est médicinale. Le modèle analyse les caractéristiques de la plante.
      </p>
      <a href="#analyse" class="inline-block bg-white/10 text-white border border-white/20 hover:bg-white/20 backdrop-blur-sm text-lg px-8 py-4 rounded-full transition-all duration-300 hover:scale-105 shadow-glow">Commencer l'Analyse</a>
    </div>
    <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce">
      <div class="w-6 h-10 border-2 border-white/50 rounded-full flex justify-center">
        <div class="w-1 h-3 bg-white/70 rounded-full mt-2 animate-pulse"></div>
      </div>
    </div>
  </section>

  <!-- How it works section -->
  <section class="py-20 px-6">
    <div class="max-w-6xl mx-auto">
      <div class="text-center mb-16">
        <div class="flex justify-center mb-6">
          <img src="{{ url_for('static', filename='images/leaf-icon.jpg') }}" alt="Leaf" class="w-20 h-20 rounded-full shadow-medium" />
        </div>
        <h2 class="text-4xl font-bold text-green-900 mb-4 font-playfair">Comment ça marche ?</h2>
        <p class="text-lg text-green-800 max-w-2xl mx-auto">Le modèle analyse plusieurs caractéristiques de la plante :</p>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16">
        <div class="p-6 text-center bg-white/50 rounded-lg shadow-soft">
          <span class="inline-block w-12 h-12 bg-gradient-primary rounded-full mb-4 flex items-center justify-center mx-auto">
            <!-- Icône feuille Lucide -->
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-leaf w-6 h-6 text-white"><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"></path><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"></path></svg>
          </span>
          <p class="text-sm text-green-900 font-medium">Type de feuille (simple/composée)</p>
        </div>
        <div class="p-6 text-center bg-white/50 rounded-lg shadow-soft">
          <span class="inline-block w-12 h-12 bg-gradient-primary rounded-full mb-4 flex items-center justify-center mx-auto">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-leaf w-6 h-6 text-white"><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"></path><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"></path></svg>
          </span>
          <p class="text-sm text-green-900 font-medium">Habitat (forêt/désert/montagne)</p>
        </div>
        <div class="p-6 text-center bg-white/50 rounded-lg shadow-soft">
          <span class="inline-block w-12 h-12 bg-gradient-primary rounded-full mb-4 flex items-center justify-center mx-auto">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-leaf w-6 h-6 text-white"><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"></path><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"></path></svg>
          </span>
          <p class="text-sm text-green-900 font-medium">Couleur de la fleur</p>
        </div>
        <div class="p-6 text-center bg-white/50 rounded-lg shadow-soft">
          <span class="inline-block w-12 h-12 bg-gradient-primary rounded-full mb-4 flex items-center justify-center mx-auto">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-leaf w-6 h-6 text-white"><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"></path><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"></path></svg>
          </span>
          <p class="text-sm text-green-900 font-medium">Hauteur de la plante</p>
        </div>
        <div class="p-6 text-center bg-white/50 rounded-lg shadow-soft">
          <span class="inline-block w-12 h-12 bg-gradient-primary rounded-full mb-4 flex items-center justify-center mx-auto">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-leaf w-6 h-6 text-white"><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"></path><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"></path></svg>
          </span>
          <p class="text-sm text-green-900 font-medium">Saison</p>
        </div>
        <div class="p-6 text-center bg-white/50 rounded-lg shadow-soft">
          <span class="inline-block w-12 h-12 bg-gradient-primary rounded-full mb-4 flex items-center justify-center mx-auto">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-leaf w-6 h-6 text-white"><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"></path><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"></path></svg>
          </span>
          <p class="text-sm text-green-900 font-medium">Taille des feuilles</p>
        </div>
        <div class="p-6 text-center bg-white/50 rounded-lg shadow-soft">
          <span class="inline-block w-12 h-12 bg-gradient-primary rounded-full mb-4 flex items-center justify-center mx-auto">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-leaf w-6 h-6 text-white"><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"></path><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"></path></svg>
          </span>
          <p class="text-sm text-green-900 font-medium">Texture du tronc</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Benefits section -->
  <section class="py-20 px-6 bg-gradient-to-br from-green-100/30 to-green-200/20">
    <div class="max-w-6xl mx-auto">
      <h2 class="text-4xl font-bold text-center text-green-900 mb-16 font-playfair">Pourquoi Utiliser Notre Classificateur ?</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div class="text-center bg-white/80 rounded-lg shadow-medium p-8">
          <div class="w-16 h-16 bg-gradient-primary rounded-full flex items-center justify-center mx-auto mb-4">
            <!-- Icône Zap Lucide -->
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-zap w-8 h-8 text-white"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>
          </div>
          <h3 class="text-xl text-green-900 font-bold mb-2">Identification Rapide</h3>
          <p class="text-green-800">Obtenez des résultats en quelques secondes grâce à notre modèle d'apprentissage automatique.</p>
        </div>
        <div class="text-center bg-white/80 rounded-lg shadow-medium p-8">
          <div class="w-16 h-16 bg-gradient-primary rounded-full flex items-center justify-center mx-auto mb-4">
            <!-- Icône Target Lucide -->
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-target w-8 h-8 text-white"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle></svg>
          </div>
          <h3 class="text-xl text-green-900 font-bold mb-2">Précision Médicale</h3>
          <p class="text-green-800">Notre modèle est entraîné avec des données médicales pour des résultats fiables.</p>
        </div>
        <div class="text-center bg-white/80 rounded-lg shadow-medium p-8">
          <div class="w-16 h-16 bg-gradient-primary rounded-full flex items-center justify-center mx-auto mb-4">
            <!-- Icône BarChart3 Lucide -->
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bar-chart-3 w-8 h-8 text-white"><path d="M3 3v18h18"></path><rect width="4" height="7" x="7" y="10" rx="1"></rect><rect width="4" height="12" x="15" y="5" rx="1"></rect></svg>
          </div>
          <h3 class="text-xl text-green-900 font-bold mb-2">Performance Mesurée</h3>
          <p class="text-green-800">Suivez la performance du modèle avec des métriques précises et transparentes.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Analysis Form -->
  <section id="analyse" class="py-20 px-6">
    <div class="max-w-4xl mx-auto">
      <div class="text-center mb-12">
        <h2 class="text-4xl font-bold text-green-900 mb-4 font-playfair">Analysez Votre Plante</h2>
        <img src="{{ url_for('static', filename='images/flowers-collection.jpg') }}" alt="Medicinal flowers" class="w-32 h-24 object-cover rounded-lg mx-auto shadow-medium" />
      </div>
      <form action="/predict" method="post" class="bg-white/90 rounded-xl shadow-strong p-8 space-y-6" id="plantForm">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="space-y-2">
            <label for="leaf_type" class="block text-green-900 font-medium">Type de Feuille</label>
            <select id="leaf_type" name="leaf_type" required class="w-full p-3 rounded bg-green-50 border border-green-300 text-green-900">
              <option value="">Choisissez...</option>
              <option value="simple">Simple (feuille entière)</option>
              <option value="compound">Composée (feuille divisée)</option>
            </select>
            <p class="text-xs text-green-700">Le type de feuille influence la capacité de la plante à absorber les nutriments.</p>
          </div>
          <div class="space-y-2">
            <label for="habitat" class="block text-green-900 font-medium">Habitat</label>
            <select id="habitat" name="habitat" required class="w-full p-3 rounded bg-green-50 border border-green-300 text-green-900">
              <option value="">Choisissez...</option>
              <option value="forest">Forêt</option>
              <option value="desert">Désert</option>
              <option value="mountain">Montagne</option>
            </select>
            <p class="text-xs text-green-700">L'habitat affecte la capacité de la plante à survivre et à développer des propriétés médicinales.</p>
          </div>
          <div class="space-y-2">
            <label for="flower_color" class="block text-green-900 font-medium">Couleur de la Fleur</label>
            <select id="flower_color" name="flower_color" required class="w-full p-3 rounded bg-green-50 border border-green-300 text-green-900">
              <option value="">Choisissez...</option>
              <option value="white">Blanc</option>
              <option value="red">Rouge</option>
              <option value="blue">Bleu</option>
              <option value="yellow">Jaune</option>
              <option value="green">Vert</option>
              <option value="orange">Orange</option>
              <option value="purple">Pourpre</option>
            </select>
            <p class="text-xs text-green-700">La couleur de la fleur peut indiquer la présence de composés médicinaux.</p>
          </div>
          <div class="space-y-2">
            <label for="height" class="block text-green-900 font-medium">Hauteur (cm)</label>
            <input id="height" name="height" type="number" min="1" required placeholder="Ex: 15" class="w-full p-3 rounded bg-green-50 border border-green-300 text-green-900" />
            <p class="text-xs text-green-700">La hauteur de la plante peut indiquer sa maturité et sa capacité à produire des composés médicinaux.</p>
          </div>
          <div class="space-y-2">
            <label for="season" class="block text-green-900 font-medium">Saison</label>
            <select id="season" name="season" required class="w-full p-3 rounded bg-green-50 border border-green-300 text-green-900">
              <option value="">Choisissez...</option>
              <option value="spring">Printemps</option>
              <option value="summer">Été</option>
              <option value="autumn">Automne</option>
            </select>
            <p class="text-xs text-green-700">La saison peut affecter la production de composés médicinaux.</p>
          </div>
          <div class="space-y-2">
            <label for="leaf_size" class="block text-green-900 font-medium">Taille des Feuilles</label>
            <select id="leaf_size" name="leaf_size" required class="w-full p-3 rounded bg-green-50 border border-green-300 text-green-900">
              <option value="">Choisissez...</option>
              <option value="small">Petite</option>
              <option value="medium">Moyenne</option>
              <option value="large">Grande</option>
            </select>
            <p class="text-xs text-green-700">La taille des feuilles peut indiquer la maturité de la plante.</p>
          </div>
          <div class="space-y-2">
            <label for="stem_texture" class="block text-green-900 font-medium">Texture du Tronc</label>
            <select id="stem_texture" name="stem_texture" required class="w-full p-3 rounded bg-green-50 border border-green-300 text-green-900">
              <option value="">Choisissez...</option>
              <option value="smooth">Lisse</option>
              <option value="rough">Rugueux</option>
            </select>
            <p class="text-xs text-green-700">La texture du tronc peut indiquer la présence de composés protecteurs.</p>
          </div>
        </div>
        <div class="text-center mt-8">
          <button type="submit" class="inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-primary/90 h-10 bg-gradient-primary text-white px-8 py-3 text-lg rounded-full hover:shadow-glow transition-all duration-300 hover:scale-105 border-0">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-brain w-5 h-5 mr-2"><path d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"></path><path d="M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"></path><path d="M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"></path><path d="M17.599 6.5a3 3 0 0 0 .399-1.375"></path><path d="M6.003 5.125A3 3 0 0 0 6.401 6.5"></path><path d="M3.477 10.896a4 4 0 0 1 .585-.396"></path><path d="M19.938 10.5a4 4 0 0 1 .585.396"></path><path d="M6 18a4 4 0 0 1-1.967-.516"></path><path d="M19.967 17.484A4 4 0 0 1 18 18"></path></svg>
            Analyser
          </button>
        </div>
      </form>
      <div id="resultBox" class="mt-8"></div>
    </div>
  </section>
<script>
// Interception de la soumission du formulaire pour AJAX
const form = document.getElementById('plantForm');
const resultBox = document.getElementById('resultBox');
form.addEventListener('submit', async function(e) {
  e.preventDefault();
  resultBox.innerHTML = '<div class="text-center text-green-900 font-bold">Analyse en cours...</div>';
  const formData = new FormData(form);
  try {
    const response = await fetch('/predict', {
      method: 'POST',
      body: formData
    });
    const result = await response.json();
    if (result.error) {
      resultBox.innerHTML = `<div class='text-center text-red-700 font-bold'>${result.error}</div>`;
    } else {
      // Préparation des features pour affichage
      let features = [];
      if (result.explanation && Array.isArray(result.explanation)) {
        features = result.explanation.map(e => {
          // e.g. "- stem_texture: 32.58%"
          const match = e.match(/-\s*(.+?):\s*([\d.,]+)%/);
          if (match) {
            return { name: match[1].replace('_', ' ').replace('leaf type', 'Type de feuille').replace('stem texture', 'Texture du tronc').replace('height', 'Hauteur').replace('leaf size', 'Taille des feuilles').replace('flower color', 'Couleur de la fleur').replace('habitat', 'Habitat').replace('season', 'Saison'), percentage: match[2] + '%' };
          }
          return { name: e, percentage: '' };
        });
      }
      // Résultat principal
      const isMedicinal = result.result && result.result.toLowerCase().includes('médicinale');
      // Card Résultat
      let resultCard = `
        <div class="border-0 shadow-strong bg-white/90 backdrop-blur-sm rounded-2xl animate-slide-up mb-8">
          <div class="text-center pb-4 pt-8">
            <div class="w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 ${isMedicinal ? 'bg-gradient-to-br from-green-400 to-green-700' : 'bg-gradient-to-br from-yellow-200 to-red-400'}">
              ${isMedicinal ? svgLeaf() : svgTarget()}
            </div>
            <h2 class="text-3xl font-bold text-green-900">Résultat de l'Analyse</h2>
          </div>
          <div class="text-center px-8 pb-8">
            <div class="text-4xl font-bold mb-6 ${isMedicinal ? 'text-green-700' : 'text-red-700'}">
              La plante est probablement
              <div class="mt-2">${result.result}</div>
            </div>
            <div class="bg-gradient-to-br from-green-100 to-green-50 rounded-lg p-6 mt-6 shadow-soft">
              <h4 class="font-semibold text-green-900 mb-4 flex items-center justify-center">
                ${svgTrendingUp()}<span class="ml-2">Explication de la Prédiction</span>
              </h4>
              <div class="space-y-3">
                ${features.length > 0 ? features.map(f => `
                  <div class='flex justify-between items-center'>
                    <span class='text-sm text-green-800 font-medium'>${f.name}</span>
                    <div class='flex items-center space-x-2'>
                      <div class='w-32 bg-green-200 rounded-full h-2'>
                        <div class='bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full transition-all duration-1000' style='width: ${f.percentage}'></div>
                      </div>
                      <span class='text-sm font-bold text-green-700 min-w-[50px]'>${f.percentage}</span>
                    </div>
                  </div>
                `).join('') : `<div class='text-green-700'>Analyse basée sur les caractéristiques sélectionnées</div>`}
              </div>
            </div>
          </div>
        </div>
      `;
      // Card Performance
      let perf = result.metrics || {};
      let perfCard = `
        <div class="border-0 shadow-strong bg-white/90 backdrop-blur-sm rounded-2xl animate-slide-up mb-8">
          <div class="text-center pb-4 pt-8">
            <div class="w-20 h-20 bg-gradient-to-br from-green-400 to-green-700 rounded-full flex items-center justify-center mx-auto mb-4">
              ${svgBarChart3()}
            </div>
            <h2 class="text-3xl font-bold text-green-900">Performance du Modèle</h2>
          </div>
          <div class="px-8 pb-8">
            <div class="space-y-6">
              ${[
                { label: "Précision du modèle", value: perf.accuracy || "100.00%" },
                { label: "Précision", value: perf.precision || "100.00%" },
                { label: "Rappel", value: perf.recall || "100.00%" },
                { label: "F1-Score", value: perf.f1_score || "100.00%" }
              ].map(metric => `
                <div class='space-y-2'>
                  <div class='flex justify-between items-center'>
                    <span class='text-lg font-medium text-green-900'>${metric.label}</span>
                    <span class='text-2xl font-bold text-green-700'>${metric.value}</span>
                  </div>
                  <div class='w-full bg-green-100 rounded-full h-3'>
                    <div class='bg-gradient-to-r from-green-400 to-green-600 h-3 rounded-full w-full transition-all duration-1000 animate-pulse'></div>
                  </div>
                </div>
              `).join('')}
            </div>
            <div class="mt-8 p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-lg border border-green-200">
              <p class="text-sm text-green-900 text-center">
                <strong>Modèle RandomForest</strong> — Entraîné sur des données médicinales avec validation croisée pour garantir la fiabilité des prédictions.
              </p>
            </div>
          </div>
        </div>
      `;
      // Bouton nouvelle analyse
      let btn = `<div class='text-center mt-8'><button onclick='window.location.reload()' class='bg-gradient-to-r from-green-400 to-green-600 text-white px-8 py-4 text-lg rounded-full hover:shadow-glow transition-all duration-300 hover:scale-105 border border-green-400'>Analyser une nouvelle plante</button></div>`;
      resultBox.innerHTML = `<div class='grid grid-cols-1 lg:grid-cols-2 gap-8'>${resultCard}${perfCard}</div>${btn}`;
    }
  } catch (err) {
    resultBox.innerHTML = `<div class='text-center text-red-700 font-bold'>Erreur lors de la prédiction.</div>`;
  }
});

// SVG Lucide utilisés
function svgLeaf() {
  return `<svg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-leaf w-10 h-10 text-white'><path d='M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z'></path><path d='M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12'></path></svg>`;
}
function svgTarget() {
  return `<svg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-target w-10 h-10 text-white'><circle cx='12' cy='12' r='10'></circle><circle cx='12' cy='12' r='6'></circle><circle cx='12' cy='12' r='2'></circle></svg>`;
}
function svgTrendingUp() {
  return `<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-trending-up w-5 h-5 text-green-600'><polyline points='22 7 13.5 15.5 8.5 10.5 2 17'></polyline><polyline points='16 7 22 7 22 13'></polyline></svg>`;
}
function svgBarChart3() {
  return `<svg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-bar-chart-3 w-10 h-10 text-white'><path d='M3 3v18h18'></path><rect width='4' height='7' x='7' y='10' rx='1'></rect><rect width='4' height='12' x='15' y='5' rx='1'></rect></svg>`;
}
</script>
</body>
</html>
